!function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=t(1),i=r(o),a={version:"0.0.1"};a.fly=function(e){switch(e.type){case"click":i["default"].clickMode(e)}},window.bee=a},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=t(2),i=r(o),a={clickMode:function(e){for(var n=document.getElementsByClassName(e.className),t=function(t,r){n[t].addEventListener("click",function(){e.content=this.innerHTML,e.index=t;var n=new i["default"](e);n.addEventListener(),n.focus()})},r=0,o=n.length;r<o;r++)t(r,o)}};n["default"]=a},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=t(3),i=r(o),a=t(4),u=r(a);t(23);var c=t(27),l=r(c),f=t(28),d=r(f),s=t(29),v=r(s),p=t(30),b=r(p),g=t(31),y=r(g),h=function(){function e(n){(0,i["default"])(this,e);var t=document.createElement("div");t.className="bee-backdrop",t.innerHTML=l["default"].getClickerModalHTML(n),document.body.appendChild(t),this.modal=t,this.config=n,this.editor=this.modal.querySelector("div#bee-editor-content")}return(0,u["default"])(e,[{key:"addEventListener",value:function(){var e=this;this.modal.querySelector("div.bee-modal").addEventListener("click",function(e){d["default"].stopPropagation(e)}),this.modal.querySelector("button.bee-btn-cancel").addEventListener("click",function(n){d["default"].stopPropagation(n),d["default"].destroy(e.modal)}),this.modal.querySelector("button.bee-btn-ok").addEventListener("click",function(n){d["default"].stopPropagation(n);var t=e.editor.innerHTML;e.config.okCallback(t,e.config.index),d["default"].destroy(e.modal)}),this.modal.querySelector("div#bee-editor-content").addEventListener("blur",function(){console.log("blur..."),b["default"].getRangeAt&&b["default"].rangeCount&&(v["default"].range=b["default"].getRangeAt(0))},!0),this.modal.querySelector("input.upload-image").addEventListener("change",function(){(0,y["default"])(this.files,this._range)}),this.modal.querySelector("li.handwriting").addEventListener("click",function(){var n=e.className;n.indexOf("active")===-1?(e.className=n+" active",e.openHandWritingPanel()):(e.className=n.replace(/\bactive\b/,""),e.removeHandWritingPanel())})}},{key:"focus",value:function(e){return e||this.setRange(),this.editor.focus(),this}},{key:"setRange",value:function(e){e=e||this._range,e||(e=this.getRange(),e.collapse(!1));try{b["default"].removeAllRanges(),b["default"].addRange(e)}catch(n){}return this}},{key:"getRange",value:function(){var e=this.editor,n=b["default"].rangeCount&&b["default"].getRangeAt(0);return n||(n=document.createRange()),d["default"].containsNode(e,n.commonAncestorContainer)||(n.selectNodeContents(e),n.collapse(!1)),n}}]),e}();n["default"]=h},function(e,n){"use strict";n.__esModule=!0,n["default"]=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var o=t(5),i=r(o);n["default"]=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i["default"])(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}()},function(e,n,t){e.exports={"default":t(6),__esModule:!0}},function(e,n,t){t(7);var r=t(10).Object;e.exports=function(e,n,t){return r.defineProperty(e,n,t)}},function(e,n,t){var r=t(8);r(r.S+r.F*!t(18),"Object",{defineProperty:t(14).f})},function(e,n,t){var r=t(9),o=t(10),i=t(11),a=t(13),u="prototype",c=function(e,n,t){var l,f,d,s=e&c.F,v=e&c.G,p=e&c.S,b=e&c.P,g=e&c.B,y=e&c.W,h=v?o:o[n]||(o[n]={}),m=h[u],_=v?r:p?r[n]:(r[n]||{})[u];v&&(t=n);for(l in t)f=!s&&_&&void 0!==_[l],f&&l in h||(d=f?_[l]:t[l],h[l]=v&&"function"!=typeof _[l]?t[l]:g&&f?i(d,r):y&&_[l]==d?function(e){var n=function(n,t,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,t)}return new e(n,t,r)}return e.apply(this,arguments)};return n[u]=e[u],n}(d):b&&"function"==typeof d?i(Function.call,d):d,b&&((h.virtual||(h.virtual={}))[l]=d,e&c.R&&m&&!m[l]&&a(m,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,n){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,n){var t=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)},function(e,n,t){var r=t(12);e.exports=function(e,n,t){if(r(e),void 0===n)return e;switch(t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,o){return e.call(n,t,r,o)}}return function(){return e.apply(n,arguments)}}},function(e,n){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,n,t){var r=t(14),o=t(22);e.exports=t(18)?function(e,n,t){return r.f(e,n,o(1,t))}:function(e,n,t){return e[n]=t,e}},function(e,n,t){var r=t(15),o=t(17),i=t(21),a=Object.defineProperty;n.f=t(18)?Object.defineProperty:function(e,n,t){if(r(e),n=i(n,!0),r(t),o)try{return a(e,n,t)}catch(u){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[n]=t.value),e}},function(e,n,t){var r=t(16);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,n){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,n,t){e.exports=!t(18)&&!t(19)(function(){return 7!=Object.defineProperty(t(20)("div"),"a",{get:function(){return 7}}).a})},function(e,n,t){e.exports=!t(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,n){e.exports=function(e){try{return!!e()}catch(n){return!0}}},function(e,n,t){var r=t(16),o=t(9).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,n,t){var r=t(16);e.exports=function(e,n){if(!r(e))return e;var t,o;if(n&&"function"==typeof(t=e.toString)&&!r(o=t.call(e)))return o;if("function"==typeof(t=e.valueOf)&&!r(o=t.call(e)))return o;if(!n&&"function"==typeof(t=e.toString)&&!r(o=t.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,n){e.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}},function(e,n){},,,,function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t={getClickerModalHTML:function(e){return'\n      <div class="bee-modal">\n        <div class="bee-modal-header">\n          <button class="bee-btn bee-btn-cancel">\n            '+e.cancelText+',\n          </button>\n          <button class="bee-btn bee-btn-ok">\n            '+e.okText+'\n          </button>\n        </div>\n        <div class="bee-modal-body">\n          <div id="bee-editor-content" class="bee-modal-content" contentEditable="true">\n            '+e.content+'\n          </div>\n        </div>\n        <div class="bee-modal-footer">\n          <ul>\n            <li>\n              <label class="upload-label">\n                <input class="upload-image" type="file"/>\n                <span>上传图片</span>\n              </label>\n            </li>\n            <li class="handwriting">\n              <a>手写</a>\n            </li>\n            <li>\n              <a>涂鸦</a>\n            </li>\n            <li data-toggle="dropdown">\n              <a>插入</a>\n              <ul class="bee-dropdown-menu">\n                <li>二维码</li>\n                <li>日期</li>\n                <li>链接</li>\n              </ul>\n            </li>\n          </ul>\n        </div>\n      </div>\n    '},getHandWritingHTML:function(){return'\n      <div class="bee-handwriting-panel">\n        <canvas id="handwring-canvas"></canvas>\n      </div>\n    '}};n["default"]=t},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t={stopPropagation:function(e){e.stopPropagation()},destroy:function(e){document.body.removeChild(e)},extend:function(e,n){},containsNode:function(e,n){if(e===n)return!0;for(n=n.parentNode;n;){if(n===e)return!0;n=n.parentNode}return!1}};n["default"]=t},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t={selection:document.getSelection(),range:document.createRange(),anchorNode:null};n["default"]=t},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=document.getSelection();n["default"]=t},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=t(29),i=r(o),a=function(e){var n=new FileReader,t=new Image;n.readAsDataURL(e[0]),n.onload=function(e){t.src=e.target.result,void 0!==i["default"].range&&i["default"].range.insertNode(t)}};n["default"]=a}]);