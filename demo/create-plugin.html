<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, maximum-scale=1, minimum-scale=1">
  <title>Create a new plugin</title>
  <link rel="stylesheet" href="../build/beeji.css">
  <style>
    body {
      background: #f7f7f7;
    }

    .editor {
      padding: 25px;
      background: #fff;
      margin-bottom: 30px;
    }
  </style>
</head>
<body>
<h1>Demo to create a plugin</h1>

<div class="editor"><p>Edit on mobile is easy, create a plugin is also easy, click me to try editor. CLICK ME!</p></div>

<script src="../build/beeji.js"></script>

<script>
  var elemePlugin = {
    className: 'eleme-demo',
    eventType: 'click',
    icon: 'icon-eleme',
    eventCallback: function(editor) {
      return function(e) {
        let currentRange = editor.getRange();
        let newSpan = document.createElement('span');
        newSpan.innerHTML = '饿了么和你一起拼!!!';
        currentRange.insertNode(newSpan);
      };
    },
    svg: [
    '<symbol id="icon-eleme" viewBox="0 0 42 42">',
    '<g id="svg-logo-e">',
    '<path class="path1" d="M33.217,34.475c-0.973-1.655-3.117-2.219-4.793-1.263c-0.023,0.011-0.051,0.032-0.074,0.046c-6.822,3.807-15.496,1.493-19.423-5.213C4.98,21.309,7.323,12.69,14.16,8.799c5.789-3.294,12.938-2.14,17.395,2.375l-13.491,7.719l0,0c-1.672,0.958-2.246,3.067-1.284,4.721c0.974,1.651,3.114,2.219,4.79,1.265v0.005l19.692-11.231c-0.412-1.075-0.903-2.125-1.505-3.149C33.87,0.459,20.844-2.983,10.657,2.819C0.459,8.619-3.024,21.456,2.86,31.501c5.872,10.024,18.863,13.469,29.045,7.711c0.011-0.006,0.021-0.009,0.029-0.013c0.004,0,0.004,0,0.009-0.009c0.006,0,0.01,0,0.015-0.006c1.027-0.587,1.981-1.244,2.875-1.957l-1.611-2.753H33.217z"/>',
    '<path class="path2" d="M41.527,23.864l-1.752-3.002l-6.076,3.463l3.505,5.986l3.039-1.73l0,0C41.924,27.63,42.499,25.514,41.527,23.864z"/>',
    '</g>',
    '</symbol>'
    ].join()
  };

  beeji.PluginManager.addPlugin('eleme', elemePlugin);

  var objInit = {
    className: 'editor',
    mode: 'click-content',
    plugins: ['eleme', 'font', 'unorderedlist'],
    okCallback: function(data, idx) {
      var divs = document.getElementsByClassName('editor');
      divs[idx].innerHTML = data;
    }
  };

  beeji.fly(objInit);
</script>
</body>
</html>
